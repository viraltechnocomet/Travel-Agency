{% extends "./base.html" %}

{% block title %}
    Admin Users
{% endblock title %}

{% block page-content %}
            <!--app-content open-->
            <div class="main-content app-content mt-0">
                <div class="side-app">

                    <!-- CONTAINER -->
                    <div class="main-container container-fluid">
                        {% block error_messages %}
                            {% if messages %}
                            <div class="row">
                                <div class="col-sm-6 col-sm-offset-3">
                                    {% for message in messages %}
                                    <div class="alert alert-{{ message.tags }}" role="alert">
                                        <p>{{ message }}</p>
                                    </div>
                                    {% endfor %}
                                </div>
                            </div>
                            {% endif %}
                        {% endblock error_messages %}

                        <!-- PAGE-HEADER -->
                        <div class="page-header">
                            <h1 class="page-title">Admin Users</h1>
                            <div>
                                <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="javascript:void(0)">Admin</a></li>
                                    <li class="breadcrumb-item active" aria-current="page">List Admin</li>
                                </ol>
                            </div>
                        </div>
                        <!-- PAGE-HEADER END -->
        

                        <!-- Row -->
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="card">
                                    <div class="card-header">
                                        <h3 class="card-title">All Admin Users</h3>
                                    </div>
                                    <div class="card-body">
                                       <a href="/add-admin/" id="table2-new-row-button" class="btn btn-primary mb-4"> Add Admin
                                            </a>
                                        <div class="table-responsive">
                                            <table class="table table-bordered border text-nowrap mb-0" id="new-edit">
                                                <thead>
                                                    <tr>
                                                        <th><div align="center">Name</div></th>
                                                        <th><div align="center">email</div></th>
                                                        <th><div align="center">Type</div></th>
                                                        <th><div align="center">Created</div></th>
														<th><div align="center">Action</div></th>

                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    {% if users %}
                                                        {% for user in users %}
                                                        <tr>
                                                            <td><div align="center">{{user.username}}</div></td>
                                                            <td><div align="center">{{user.email}}</div></td>
                                                            <td><div align="center">{{user.type}}</div></td>
                                                            <td><div align="center">{{user.date_joined}}</div></td>

                                                            <td>
                                                            <form action="" method="post">
                                                            {% csrf_token %}
                                                                <input type="hidden" name="user_id" value="{{user.id}}">

                                                                {% comment %} <div class="btn-list">
                                                                <button class="btn  btn-sm btn-success" data-bs-placement="bottom" data-bs-toggle="tooltip"title="Active User" type="submit" name="action" value="active">
                                                                <span class="fe fe-check" > </span>
                                                                </button>

                                                                <div class="btn-list">
                                                                <button class="btn  btn-sm btn-danger" data-bs-placement="bottom" data-bs-toggle="tooltip"title="Deactive User" type="submit" name="action" value="deactive" onclick="return confirm('Are you sure you?');">
                                                                <span class="fe fe-check" > </span>
                                                                </button> {% endcomment %}
                                                                                                        
                                                                <button class="btn btn-sm btn-info" data-bs-placement="bottom" data-bs-toggle="tooltip" title="Manage User" type="submit" name="action" value="edit" >
                                                                <span class="fe fe-edit" > </span>
                                                                </button>

                                                                <button class="btn  btn-sm btn-danger" data-bs-placement="bottom" data-bs-toggle="tooltip" title="Delete User" type="submit" name="action" value="delete" onclick="return confirm('Are you sure you want to delete user?');">
                                                                <span class="fe fe-trash-2" > </span>
                                                                </button>
                                                                </div>
                                                            </form>
                                                            </td>
                                                        </tr>
                                                        {% endfor %}
                                                    {% else %}
                                                        No Admin User Found
                                                    {% endif %}
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- End Row -->                       
        </div>
{% endblock page-content %}